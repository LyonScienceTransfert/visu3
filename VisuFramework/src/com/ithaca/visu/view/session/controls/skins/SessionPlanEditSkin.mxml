<?xml version="1.0" encoding="utf-8"?>
<s:Skin xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:fb="http://ns.adobe.com/flashbuilder/2009" alpha.disabled="0.5"
	creationComplete="skin1_creationCompleteHandler(event)"
	 addedToStage="skin1_addedToStageHandler(event)" xmlns:renderer="com.ithaca.visu.renderer.*" xmlns:layout="sparks.layout.*" xmlns:layout1="com.lyon2.controls.sparks.layout.*">
    <fx:Metadata>[HostComponent("com.ithaca.visu.view.session.controls.SessionPlanEdit")]</fx:Metadata>

    <fx:Script fb:purpose="styling">
        <![CDATA[  
			import gnu.as3.gettext.FxGettext;
			import gnu.as3.gettext._FxGettext;
			
			import mx.events.FlexEvent;
			
			[Bindable]
			private var fxgt:_FxGettext;
            /**
             *  @private
             */
            override protected function updateDisplayList(unscaledWidth:Number, unscaledHeight:Number) : void
            {
                // Push backgroundColor and backgroundAlpha directly.
                // Handle undefined backgroundColor by hiding the background object.
                if (isNaN(getStyle("backgroundColor")))
                {
                    background.visible = false;
                }
                else
                {
                    background.visible = true;
                    bgFill.color = getStyle("backgroundColor");
                    bgFill.alpha = getStyle("backgroundAlpha");
                }
                
                super.updateDisplayList(unscaledWidth, unscaledHeight);
            }

			protected function skin1_creationCompleteHandler(event:FlexEvent):void
			{
				fxgt = FxGettext;
			}

			protected function skin1_addedToStageHandler(event:Event):void
			{
				this.percentWidth = 100;
			}

// KEYWORD
			/* protected function addKeyword_focusInHandler(event:FocusEvent):void
			{
				if(addKeyword.text == "entrer nouveau mot-clé"){
					addKeyword.text = "";
					addKeyword.setStyle("fontStyle","normal");
					addKeyword.setStyle("color","#000000");
				}
			}

			protected function addKeyword_focusOutHandler(event:FocusEvent):void
			{
				if(addKeyword.text == ""){
					this.setMessageKeyword();
				}
			} */

			/* protected function addKeyword_keyUpHandler(event:KeyboardEvent):void
			{
				if(event.keyCode == Keyboard.ENTER && addKeyword.text != "")
				{
					// add statement
					if(addKeyword.text != "entrer nouveau mot-clé" && addKeyword.text != "")
					{
						this.hostComponent.addKeyword(addKeyword.text);
						addKeyword.text = "";
						stage.focus = addKeyword;
					}
				}
			} */

			/* private function setMessageKeyword():void
			{
				addKeyword.text = "entrer nouveau mot-clé";
				addKeyword.setStyle("fontStyle","italic");
				addKeyword.setStyle("color","#BBBBBB");
			} */
			
			protected function buttonAddActivity_clickHandler(event:MouseEvent):void
			{
				this.hostComponent.addActivity();
			}

        ]]>        
    </fx:Script>
    
    <s:states>
        <s:State name="normal" />
        <s:State name="disabled" />
        <s:State name="normalEditable"/>
    </s:states>
    
    <!--- Defines the appearance of the SkinnableContainer class's background. -->
    <s:Rect id="background" left="0" right="0" top="0" bottom="0">
        <s:fill>
            <!--- @private -->
            <s:SolidColor id="bgFill" color="#ffffff"/>
        </s:fill>
    </s:Rect>
    
    <!--
        Note: setting the minimum size to 0 here so that changes to the host component's
        size will not be thwarted by this skin part's minimum size.   This is a compromise,
        more about it here: http://bugs.adobe.com/jira/browse/SDK-21143
    -->
    <!--- @copy spark.components.SkinnableContainer#contentGroup -->
    <s:Group id="contentGroup" left="0" right="0" top="0" bottom="0" minWidth="0" minHeight="0">
        <s:layout>
            <s:VerticalLayout gap="3"/>
        </s:layout>
		<s:Group width="100%">
			<s:Label left="5" top="3" fontWeight="bold">
				<!--<s:text>{fxgt.gettext("Plan de séance")}</s:text>-->
				<s:text>{"Plan de séance"}</s:text>
			</s:Label>
<!-- BUTTONS -->
			<s:Button  id="buttonCreateSessionByTemplate"  top="5" right="225" top.normalEditable="5" left.normalEditable="130" right.normalEditable="215" top.normal="5" left.normal="130" right.normal="215">
				<!--<s:label>{fxgt.gettext("importer")}</s:label>-->
				<s:label>{"Créer une nouvelle séance à partir de ce plan de séance"}</s:label>
			</s:Button>
			<s:Button  id="buttonExportSession" enabled="false" right="5" top.disabled="5" right.disabled="5" top.normal="5" right.normal="5" top.normalEditable="5" right.normalEditable="5" enabled.normalEditable="true">
				<!--<s:label>{fxgt.gettext("exporter")}</s:label>-->
				<s:label>{"Rendre public ce plan de séance"}</s:label>
			</s:Button>
		</s:Group>	
	
		<s:Group width="100%">
			<s:Button id="buttonAddActivity" left="10"
					   click="buttonAddActivity_clickHandler(event)"  enabled.normal="false" label.normalEditable="Ajouter un activité" left.normalEditable="5" left.normal="5" label.normal="Ajouter un activité">
				<s:label>ajouter une activité</s:label>
			</s:Button>
	        <!--<s:Label right="52" top="5" fontSize="18" fontStyle="normal" fontWeight="bold" right.normal="160" fontSize.normal="14" top.normal="5" fontSize.normalEditable="14" right.normalEditable="160" top.normalEditable="5">
				<s:text>{"Activité : "}</s:text>
			</s:Label>
			<s:ComboBox   id="comboBoxActivity" width="45" right="5" width.normal="150" width.normalEditable="150"/>-->
		</s:Group>
<!-- LINE -->	
		<s:Line left="50" right="2" top="10" width="100%">
			<s:stroke>
				<s:SolidColorStroke color="0x000000" weight="1" joints="miter"/>
			</s:stroke>
		</s:Line>
		
		<s:Scroller top="0" left="0" right="0" bottom="0" height="100%" width="100%">
			<s:Group id="activityGroup">
				<s:layout>
					<s:VerticalLayout gap="5" />
				</s:layout>
			</s:Group>
		</s:Scroller>
		
<!-- KEYWORD -->	
		<!--<s:Group  width="100%" height="100">-->
<!-- LINE -->	
			<!--<s:Line left="1" right="1" width="100%" top="1">
				<s:stroke>
					<s:SolidColorStroke color="0x000000" weight="1" joints="miter"/>
				</s:stroke>
			</s:Line>
			<s:Label left="15" text="Mots-clés : " top="7"/>
			<s:Scroller top="8" left="80" right="0" bottom="0" height.disabled="100%" width.disabled="100%" top.normal="8" left.normal="80" bottom.normal="5" right.normal="2" bottom.normalEditable="25" left.normalEditable="80" right.normalEditable="2" top.normalEditable="8">
				<s:Group id="keywordGroup"  left="0" width="100%" height="100%"  top="0">
					<s:layout>
						<layout1:FlowLayout/>
					</s:layout>
				</s:Group>	
			</s:Scroller>-->
<!-- ADD KEYWORD -->
			<!--<s:TextArea  id="addKeyword" height="22" right="2" bottom="2"
						 fontStyle="italic" color="#BBBBBB"
						  focusIn="addKeyword_focusInHandler(event)"
						   focusOut="addKeyword_focusOutHandler(event)"
						    keyUp="addKeyword_keyUpHandler(event)" textAlign.normalEditable="center" includeIn="disabled,normalEditable">
				<s:text>entrer nouveau mot-clé</s:text>
			</s:TextArea>
		</s:Group>-->
		
		
    </s:Group>
</s:Skin>
