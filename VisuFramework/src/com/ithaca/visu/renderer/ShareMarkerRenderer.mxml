<?xml version="1.0" encoding="utf-8"?>
<s:MXDataGridItemRenderer xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx" 
    focusEnabled="true"
    >
    <fx:Script>
    <![CDATA[
        import com.ithaca.visu.events.SessionSharedEvent;
        import com.ithaca.visu.model.User;
        
        override public function set data(value:Object):void 
        {
            super.data = value;
            if (value != null) 
            {
                var participant:User = value as User;
                checkBoxShareMarker.selected = participant.shareMarker;
              
            }
        } 

        protected function checkBoxShareMarker_changeHandler(event:Event):void
        {
            var changeShareEvent:SessionSharedEvent = new SessionSharedEvent(SessionSharedEvent.UPDATE_SHARE_MARKER);
            changeShareEvent.shareMarker = checkBoxShareMarker.selected;
            changeShareEvent.idUserFor = (this.data as User).id_user;
            dispatchEvent(changeShareEvent);
        }

    ]]>
    </fx:Script>
    <s:VGroup id="vgroupShare" width="100%" height="100%" horizontalAlign="center" verticalAlign="middle" paddingLeft="5" paddingRight="5" paddingTop="5" paddingBottom="5">
        <s:CheckBox id="checkBoxShareMarker" change="checkBoxShareMarker_changeHandler(event)"/>
    </s:VGroup>
</s:MXDataGridItemRenderer>
