<?xml version="1.0" encoding="utf-8"?>
<s:TitleWindow xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx" xmlns:messagerie="com.ithaca.messagerie.*"
    title="Messagerie de la plateforme"
    close="titlewindow1_closeHandler(event)"
    height="500">
    <fx:Declarations>
        <!-- Place non-visual elements (e.g., services, value objects) here -->
    </fx:Declarations>
    <fx:Script>
    <![CDATA[
        import com.ithaca.messagerie.skins.TabNavigatorMessagerieSkin;
        
        import mx.collections.ArrayCollection;
        import mx.events.CloseEvent;
        import mx.managers.PopUpManager;
        
        private var _listDialog:ArrayCollection 
        private var listDialogChange:Boolean;
        private var _listConnectedUser:ArrayCollection;
        private var listConnectedUserChange:Boolean;
        //_____________________________________________________________________
        //
        // Setter/getter
        //
        //_____________________________________________________________________
        public function set listDialog(value:ArrayCollection):void
        {
            _listDialog= value;
            listDialogChange = true;
            invalidateProperties();
        }
        public function get listDialog():ArrayCollection
        {
            return _listDialog;
        }
        
        public function set listConnectedUser(value:ArrayCollection):void
        {
            _listConnectedUser= value;
            listConnectedUserChange = true;
            invalidateProperties();
        }
        //_____________________________________________________________________
        //
        // Overriden Methods
        //
        //_____________________________________________________________________
        
        override protected function commitProperties():void
        {
            super.commitProperties();	
            if(listDialogChange)
            {
                listDialogChange = false;
                // create dialogs
                tabNavigatorMessagerie.listDialog = listDialog;
                
            }
            if(listConnectedUserChange)
            {
                listConnectedUserChange = false;
                
            }
        }
        
        //_____________________________________________________________________
        //
        // Listeners
        //
        //_____________________________________________________________________


        protected function titlewindow1_closeHandler(event:CloseEvent):void
        {
            PopUpManager.removePopUp(this);
        }

    ]]>
    </fx:Script>
    <s:VGroup width="100%" height="100%">
        <messagerie:TabNavigatorMessagerie id="tabNavigatorMessagerie"
            skinClass="com.ithaca.messagerie.skins.TabNavigatorMessagerieSkin"/>
        <s:HGroup width="100%" verticalAlign="middle" paddingBottom="5" paddingLeft="3" paddingRight="3">
            <s:Button id="addUser">
                <s:label>Ajouter user</s:label>
            </s:Button>
            <s:TextInput  id="messageToSend" width="100%" />
            <s:Button id="sendMessage"> 
                <s:label>Send</s:label>
            </s:Button>
        </s:HGroup>
    </s:VGroup>
</s:TitleWindow>
